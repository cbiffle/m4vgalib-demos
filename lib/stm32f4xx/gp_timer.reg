BFF_REG_RW(Word, cr1,
  BFF_FIELD_E( 9: 8, unsigned, ckd,
    BFF_ENUM(0b00, div1)
    BFF_ENUM(0b01, div2)
    BFF_ENUM(0b10, div4)
  )
  BFF_FIELD( 7: 7, bool, arpe)
  BFF_FIELD_E( 6: 5, unsigned, cms,
    BFF_ENUM(0b00, edge_aligned)
    BFF_ENUM(0b01, center_aligned_1)
    BFF_ENUM(0b10, center_aligned_2)
    BFF_ENUM(0b11, center_aligned_3)
  )
  BFF_FIELD( 4: 4, bool, dir)
  BFF_FIELD( 3: 3, bool, opm)
  BFF_FIELD( 2: 2, bool, urs)
  BFF_FIELD( 1: 1, bool, udis)
  BFF_FIELD( 0: 0, bool, cen)
)
BFF_REG_RW(Word, cr2,
  BFF_FIELD( 7: 7, bool, ti1s)
  BFF_FIELD_E( 6: 4, unsigned, mms,
    BFF_ENUM(0b000, reset)
    BFF_ENUM(0b001, enable)
    BFF_ENUM(0b010, update)
    BFF_ENUM(0b011, compare_pulse)
    BFF_ENUM(0b100, compare_oc1ref)
    BFF_ENUM(0b101, compare_oc2ref)
    BFF_ENUM(0b110, compare_oc3ref)
    BFF_ENUM(0b111, compare_oc4ref)
  )
  BFF_FIELD( 3: 3, bool, ccds)
)
BFF_REG_RW(Word, smcr,
  BFF_FIELD(15:15, bool, etp)
  BFF_FIELD(14:14, bool, ece)
  BFF_FIELD_E(13:12, unsigned, etps,
    BFF_ENUM(0b00, off)
    BFF_ENUM(0b01, div2)
    BFF_ENUM(0b10, div4)
    BFF_ENUM(0b11, div8)
  )
  BFF_FIELD(11: 8, unsigned, etf)
  BFF_FIELD( 7: 7, bool, msm)
  BFF_FIELD_E( 6: 4, unsigned, ts,
    BFF_ENUM(0b000, itr0)
    BFF_ENUM(0b001, itr1)
    BFF_ENUM(0b010, itr2)
    BFF_ENUM(0b011, itr3)
    BFF_ENUM(0b100, ti1f_ed)
    BFF_ENUM(0b101, ti1fp1)
    BFF_ENUM(0b110, ti1fp2)
    BFF_ENUM(0b111, etrf)
  )
  BFF_FIELD_E( 2: 0, unsigned, sms,
    BFF_ENUM(0b000, disabled)
    BFF_ENUM(0b001, encoder1)
    BFF_ENUM(0b010, encoder2)
    BFF_ENUM(0b011, encoder3)
    BFF_ENUM(0b100, reset)
    BFF_ENUM(0b101, gated)
    BFF_ENUM(0b110, trigger)
    BFF_ENUM(0b111, external)
  )
)
BFF_REG_RW(Word, dier,
  BFF_FIELD(14:14, bool, tde)
  BFF_FIELD(13:13, bool, comde)
  BFF_FIELD(12:12, bool, cc4de)
  BFF_FIELD(11:11, bool, cc3de)
  BFF_FIELD(10:10, bool, cc2de)
  BFF_FIELD( 9: 9, bool, cc1de)
  BFF_FIELD( 8: 8, bool, ude)
  BFF_FIELD( 6: 6, bool, tie)
  BFF_FIELD( 4: 4, bool, cc4ie)
  BFF_FIELD( 3: 3, bool, cc3ie)
  BFF_FIELD( 2: 2, bool, cc2ie)
  BFF_FIELD( 1: 1, bool, cc1ie)
  BFF_FIELD( 0: 0, bool, uie)
)
BFF_REG_RW(Word, sr,
  BFF_FIELD(12:12, bool, cc4of)
  BFF_FIELD(11:11, bool, cc3of)
  BFF_FIELD(10:10, bool, cc2of)
  BFF_FIELD( 9: 9, bool, cc1of)

  BFF_FIELD( 6: 6, bool, tif)

  BFF_FIELD( 4: 4, bool, cc4if)
  BFF_FIELD( 3: 3, bool, cc3if)
  BFF_FIELD( 2: 2, bool, cc2if)
  BFF_FIELD( 1: 1, bool, cc1if)

  BFF_FIELD( 0: 0, bool, uif)
)
BFF_REG_RW(Word, egr, )
BFF_REG_RW(Word, ccmr1,
  /* output compare mode */
  BFF_FIELD(15:15, bool, oc2ce)
  BFF_FIELD(14:12, OcMode, oc2m)
  BFF_FIELD(11:11, bool, oc2pe)
  BFF_FIELD(10:10, bool, oc2fe)
  BFF_FIELD_E( 9: 8, unsigned, cc2s,
    BFF_ENUM(0b00, output)
    BFF_ENUM(0b01, input_ti2)
    BFF_ENUM(0b10, input_ti1)
    BFF_ENUM(0b11, input_trc)
  )
  BFF_FIELD( 7: 7, bool, oc1ce)
  BFF_FIELD( 6: 4, OcMode, oc1m)
  BFF_FIELD( 3: 3, bool, oc1pe)
  BFF_FIELD( 2: 2, bool, oc1fe)
  BFF_FIELD_E( 1: 0, unsigned, cc1s,
    BFF_ENUM(0b00, output)
    BFF_ENUM(0b01, input_ti1)
    BFF_ENUM(0b10, input_ti2)
    BFF_ENUM(0b11, input_trc)
  )

  /* input capture mode */
)
BFF_REG_RW(Word, ccmr2, )
BFF_REG_RW(Word, ccer,
  BFF_FIELD(15:15, bool, cc4np)
  BFF_FIELD(13:13, bool, cc4p)
  BFF_FIELD(12:12, bool, cc4e)
  BFF_FIELD(11:11, bool, cc3np)
  BFF_FIELD( 9: 9, bool, cc3p)
  BFF_FIELD( 8: 8, bool, cc3e)
  BFF_FIELD( 7: 7, bool, cc2np)
  BFF_FIELD( 5: 5, bool, cc2p)
  BFF_FIELD( 4: 4, bool, cc2e)
  BFF_FIELD( 3: 3, bool, cc1np)
  BFF_FIELD( 1: 1, bool, cc1p)
  BFF_FIELD( 0: 0, bool, cc1e)
)
BFF_REG_RW(Word, cnt, )
BFF_REG_RW(Word, psc, )
BFF_REG_RW(Word, arr, )
BFF_REG_RESERVED(Word, 30, 1)
BFF_REG_RW(Word, ccr1, )
BFF_REG_RW(Word, ccr2, )
BFF_REG_RW(Word, ccr3, )
BFF_REG_RW(Word, ccr4, )
BFF_REG_RESERVED(Word, 44, 1)
BFF_REG_RW(Word, dcr, )
BFF_REG_RW(Word, dmar, )
